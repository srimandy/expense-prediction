pipeline {
    agent any
    stages {
        stage('Install Dependencies') {
            steps {
                bat '"M:\\INC_Agent\\env\\Scripts\\python.exe" -m pip install -r M:\\ExpensePrediction\\requirements.txt'
            }
        }
        stage('Train Model') {
            steps {
                bat '"M:\\INC_Agent\\env\\Scripts\\python.exe" M:\\ExpensePrediction\\scripts\\train.py'
            }
        }
        stage('Run Predictions') {
            steps {
                bat '"M:\\INC_Agent\\env\\Scripts\\python.exe" M:\\ExpensePrediction\\scripts\\predict.py'
            }
        }
    }
}
